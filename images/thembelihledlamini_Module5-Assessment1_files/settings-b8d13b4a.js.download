System.register(["./chunk-vendor.js","./chunk-frameworks.js","./chunk-color-modes.js","./chunk-profile.js","./chunk-invitations.js","./chunk-runner-groups.js","./chunk-premium-runners.js","./chunk-overview.js","./chunk-index5.js"],function(){"use strict";var u,S,i,W,m,ke,b,qe,ut,dt,pt,mt,A,ft,te,j,we,F,_e,ht,Le,gt,yt,bt,Ae,jt,vt,St,kt,qt;return{setters:[function(d){u=d.t,S=d.c,i=d.a,W=d.b,m=d.r,ke=d.j,b=d.o,qe=d.T,ut=d.f},function(d){dt=d.w,pt=d.aR,mt=d.a6,A=d.e,ft=d.aA,te=d.C,j=d.r,we=d.Q,F=d.t,_e=d.K,ht=d.z,Le=d.n,gt=d.ao,yt=d.aj,bt=d.b7},function(d){Ae=d.b,jt=d.g,vt=d.a,St=d.s},function(){},function(d){kt=d.u,qt=d.a},function(){},function(){},function(){},function(){}],execute:function(){var d=Object.defineProperty,Wo=Object.getOwnPropertyDescriptor,Vo=(e,t)=>d(e,"name",{value:t,configurable:!0}),wt=(e,t,o,s)=>{for(var r=s>1?void 0:s?Wo(t,o):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(r=(s?c(t,o,r):c(r))||r);return s&&r&&d(t,o,r),r};let oe=class extends HTMLElement{togglePopover(){this.popover.hidden=!this.popover.hidden}};Vo(oe,"ActionsPolicyPopoverElement"),wt([u],oe.prototype,"popover",2),oe=wt([S],oe);var Go=Object.defineProperty,Xo=(e,t)=>Go(e,"name",{value:t,configurable:!0});i("click",".js-actions-runner-platform-radio",function(e){const t=e.target,o=t.closest(".js-actions-runner-instructions"),s=o.querySelector(".js-actions-runner-architecture-menu"),r=t.getAttribute("data-download-os"),n=s.getAttribute("data-default-architecture");for(const c of s.querySelectorAll("[data-download-os]")){const l=c.getAttribute("data-download-os");c.hidden=l!==r,l===r&&c.getAttribute("data-download-architecture")===n&&c.click()}o.querySelector(".js-actions-runner-windows-instructions").hidden=r!=="win",o.querySelector(".js-actions-runner-unix-instructions").hidden=r==="win",xe("os",r)},{capture:!0}),i("details-menu-selected",".js-actions-runner-architecture-menu",function(e){const t=e.detail.relatedTarget,o=t.closest(".js-actions-runner-instructions"),s=t.getAttribute("data-download-url"),r=t.getAttribute("data-download-filename"),n=t.getAttribute("data-download-token"),c=t.getAttribute("data-download-hash");for(const a of o.querySelectorAll(".js-action-runner-url"))a.textContent=s;for(const a of o.querySelectorAll(".js-action-runner-filename"))a.textContent=r;for(const a of o.querySelectorAll(".js-action-runner-token"))a.textContent=n;for(const a of o.querySelectorAll(".js-action-runner-hash"))a.textContent=c;const l=t.getAttribute("data-download-architecture");xe("arch",l)},{capture:!0});function xe(e,t){const o=new URLSearchParams(window.location.search);o.set(e,t);const s=new URL(window.location.href,window.location.origin);s.search=o.toString(),dt(pt(),"",s.toString())}Xo(xe,"updateUrlParams");var Ko=Object.defineProperty,_t=(e,t)=>Ko(e,"name",{value:t,configurable:!0});async function V(e){const t=document.querySelector(".js-ghas-entity-list-container");if(t==null)return;const o=t.querySelector("[data-show-on-error]"),s=t.querySelector("[data-loading]"),r=t.querySelector("[data-content-container]");if(r==null){G(o,s,r);return}let n=t.getAttribute("data-src");if(n==null){G(o,s,r);return}if(e!==void 0){const l=new URL(n,window.origin);l.pathname=l.pathname.replace(/\d+$/,e.toString());const a=l.toString();if(n===a)return;n=a;const p=t.querySelector(".js-advanced-security-entities-pagination");p&&(p.hidden=!0);const h=t.querySelector("[data-pager-loading]");h&&h.removeAttribute("hidden")}else if(r.children.length>0)return;let c;try{c=await A(document,n)}catch{G(o,s,r);return}if(!c){G(o,s,r);return}s&&(s.hidden=!0),r.innerHTML="",r.appendChild(c)}_t(V,"retrieveAdvancedSecurityEntities");function G(e,t,o){e&&(e.hidden=!1),t&&(t.hidden=!0),o&&(o.innerHTML="")}_t(G,"handleErrorState"),(async()=>(await mt,V()))(),document.addEventListener("pjax:end",function(){V()}),window.addEventListener("popstate",function(e){e.state===null&&V(1)}),window.addEventListener("statechange",function(){const e=parseInt(new URLSearchParams(document.location.search).get("advanced_security_entities_page")||"");isNaN(e)||V(e)}),i("click",".js-advanced-security-entities-pagination a",function(e){if(e==null||e.target==null)return;const t=e.target.href,o=new URL(t,window.origin),s=new URLSearchParams(document.location.search);for(const[r,n]of s)o.searchParams.has(r)||o.searchParams.append(r,n);ft(null,"",o.toString()),e.preventDefault()});var Lt=Object.defineProperty,Jo=Object.getOwnPropertyDescriptor,Qo=(e,t)=>Lt(e,"name",{value:t,configurable:!0}),Pe=(e,t,o,s)=>{for(var r=s>1?void 0:s?Jo(t,o):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(r=(s?c(t,o,r):c(r))||r);return s&&r&&Lt(t,o,r),r};let X=class extends HTMLElement{modeSelectChange(e){const o=e.currentTarget.value,s=this.activatePanel(o);this.activateForm(s)}activatePanel(e){let t;for(const o of this.modePanels){const s=this.modePanels.length>1?o.getAttribute("data-mode-panel")!==e:!1;if(o.hidden=s,!s){const r=o.querySelector("form");r&&(t=r)}}return t}activateForm(e){const t=e.querySelectorAll('input[type="radio"]:checked');if(t.length===0){const o=Ae(),s=jt(o),r=e.querySelector(`input[value=${s}]`);r&&(r.checked=!0,this.changeTheme(r))}else for(const o of t)this.changeTheme(o);e.dispatchEvent(new Event("submit"))}themeClicked(e){const t=e.currentTarget;this.changeTheme(t)}changeTheme(e){this.statusReset();const t=e.value,o=e.getAttribute("data-type"),s=e.getAttribute("data-mode");t&&o&&s&&(vt(s),St(t,o))}async saveTheme(e){e.preventDefault(),this.loading();const t=e.currentTarget,o=new FormData(t);(await fetch(t.action,{method:t.method,body:o,headers:{"X-Requested-With":"XMLHttpRequest"}})).status===200?this.saved():this.errored()}statusReset(){this.saveMessage.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed")}loading(){this.statusReset(),this.saveMessage.classList.add("status-indicator-loading")}saved(){this.statusReset(),this.saveMessage.classList.add("status-indicator-success")}errored(){this.statusReset(),this.saveMessage.classList.add("status-indicator-failed")}};Qo(X,"AppearanceFormElement"),Pe([u],X.prototype,"saveMessage",2),Pe([W],X.prototype,"modePanels",2),X=Pe([S],X);var At=Object.defineProperty,Yo=Object.getOwnPropertyDescriptor,Zo=(e,t)=>At(e,"name",{value:t,configurable:!0}),se=(e,t,o,s)=>{for(var r=s>1?void 0:s?Yo(t,o):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(r=(s?c(t,o,r):c(r))||r);return s&&r&&At(t,o,r),r};let M=class extends HTMLElement{connectedCallback(){this.checkActive(),window.matchMedia(`(prefers-color-scheme: ${this.getAttribute("data-mode")})`).addEventListener("change",()=>this.checkActive())}themePreview(e){const t=e.currentTarget;if(!t)return;const o=t.getAttribute("data-theme");for(const s of this.themePreviews)s.hidden=s.getAttribute("data-theme")!==o}previewReset(){const t=this.boxElement.querySelector("input:checked").value;for(const o of this.themePreviews)o.hidden=o.getAttribute("data-theme")!==t}checkActive(){this.getAttribute("data-mode")===Ae()?(this.boxElement.classList.add("Box--blue"),this.activeLabel.hidden=!1):(this.boxElement.classList.remove("Box--blue"),this.activeLabel.hidden=!0)}};Zo(M,"AppearancePreviewElement"),se([u],M.prototype,"boxElement",2),se([u],M.prototype,"activeLabel",2),se([W],M.prototype,"themePreviews",2),M=se([S],M);var es=Object.defineProperty,xt=(e,t)=>es(e,"name",{value:t,configurable:!0});m(".js-app-bgcolor-form",async function(e,t){const o=e.querySelector(".js-app-bgcolor-save-notice");if(!o)return;let s;try{s=await t.html()}catch{o.classList.remove("visible")}s&&(o.classList.add("visible"),setTimeout(()=>o.classList.remove("visible"),1500))});function re(e,t){const o=e.querySelector(".js-app-logo-with-bgcolor");o instanceof HTMLElement&&(o.style.backgroundColor=`#${t}`)}xt(re,"updateLogoBackgroundColor");function Pt(e,t){t.checkValidity()&&j(e)}xt(Pt,"saveLogoBackgroundColor"),te(".js-app-bgcolor-input",function(e){const t=e.target;if(!(t instanceof HTMLInputElement))return;const o=t.closest("form"),s=t.value.replace(/^#/,"");if(s.length<1){t.classList.remove("color-fg-danger"),re(o,t.defaultValue);return}t.checkValidity()?(t.classList.remove("color-fg-danger"),re(o,s),o.classList.contains("js-app-bgcolor-form")&&ke(()=>Pt(o,t),400)()):(t.classList.add("color-fg-danger"),re(o,t.defaultValue))});var ts=Object.defineProperty,v=(e,t)=>ts(e,"name",{value:t,configurable:!0});function Ct(){const e=".js-integrations-install-repo-picked",t=document.querySelector(e);t?Te(t):b(e,o=>{Te(o)})}v(Ct,"removeSelectedRepositories");function Tt(e){const t=".select-menu-text-filter remote-input",o=document.querySelector(t);o?Ce(o,e):b(t,s=>{Ce(s,e)})}v(Tt,"setTargetNameForRequest");function E(){return document.querySelectorAll(".js-selected-repository-field")}v(E,"selectedRepositories");function Ce(e,t){const o=e.getAttribute("src"),[s]=o.split("?"),r=`${s}?&target_name=${encodeURIComponent(t)}`;e.setAttribute("src",r)}v(Ce,"setTargetNameOnRemoteSrc");function Et(){const e=document.querySelector(".js-integrations-install-form");if(e instanceof HTMLFormElement){const t=+(e.getAttribute("data-max-repos")||0);return t>0&&E().length>=t}}v(Et,"isMaxRepositoriesSelected");function Te(e){e.innerHTML="",document.querySelector(".js-min-repository-error").hidden=E().length>0,ne(),H(),B()}v(Te,"removeAllSelectedRepos");function B(){const e=document.querySelector("#repository-menu-list"),t=Array.from(E()).map(r=>r.value);let o=!1;for(const r of e.querySelectorAll("[role=menuitem]")){const n=t.includes(r.value);!o&&!n&&(o=!0),r.hidden=n}const s=e.querySelector(".js-no-repository-found");s instanceof HTMLElement&&(s.hidden=o)}v(B,"toggleRepoVisibilityFromResults");function H(){const e=document.querySelector(".js-select-repositories-radio");if(!e)return;const t=!e.checked||E().length>0;Ee("js-integrations-install-form-submit",t),Ee("js-integrations-install-form-cancel",!0)}v(H,"updateFormValidity");function Ee(e,t){const o=document.querySelector(`.${e}`);o&&o instanceof HTMLButtonElement&&o.disabled===t&&(o.disabled=!t)}v(Ee,"toggleEnable");function Rt(){const e=document.querySelector(".js-select-repositories-radio"),t=document.querySelector(".js-integrations-install-repo-selection");!e||t.classList.toggle("has-removed-contents",!e.checked)}v(Rt,"toggleRepoSelectionSection");function ne(){const e=E().length,t=document.querySelector(".js-integration-total-repos");t.hidden=e===0,t.textContent=`Selected ${e} ${e===1?"repository":"repositories"}.`}v(ne,"updateRepositoriesSelectedCopy"),b(".js-apps-install-select-repositories-container remote-input",e=>{e.addEventListener("remote-input-success",B),e.addEventListener("remote-input-error",B)}),i("details-menu-selected",".js-apps-install-select-repositories-menu",function(e){const t=e.detail.relatedTarget,o=document.querySelector(".js-integrations-install-repo-picked"),s=t.querySelector("template").content.cloneNode(!0);o.prepend(s),document.querySelector(".js-min-repository-error").hidden=!0,document.querySelector(".js-max-repository-warning").hidden=!Et(),ne(),H(),B()},{capture:!0}),i("change",".js-integrations-install-form",H),i("change",".js-user-programmatic-access-form",H),i("click",".js-repository-picker-remove",function(e){e.currentTarget.closest(".js-repository-picker-result").remove(),document.querySelector(".js-min-repository-error").hidden=E().length>0,ne(),H(),B()}),i("change",".js-installation-repositories-radio",Rt),i("click",".js-integrations-install-form-cancel",function(){window.location.reload()});var os=Object.defineProperty,$t=(e,t)=>os(e,"name",{value:t,configurable:!0});async function It(e){const t=e.currentTarget;e.preventDefault(),Re(t)}$t(It,"submitAndUpdate");async function Re(e){const t=await fetch(e.action,{method:e.method,body:new FormData(e),headers:{Accept:"text/fragment+html"}});if(t.status>=400){const o="An unknown error occurred.",s=document.querySelector("template.js-flash-template");s.after(new qe(s,{className:"flash-error",message:o}))}else{const o=e.closest("[data-replace-remote-form-target]"),s=F(document,await t.text());o.replaceWith(s)}}$t(Re,"submitAndUpdateForm"),i("submit",".js-dependabot-selected-repos-remove-form",It),i("auto-complete-change",".js-dependabot-selected-repos-add-auto-complete",function(e){const t=e.target;if(!t.value)return;const o=t.querySelector(".js-dependabot-selected-repos-add-input");o.value=t.value,t.value="";const s=t.closest("form");Re(s)}),we("keydown",".js-dependabot-selected-repos-add-search",function(e){e.key==="Enter"&&e.preventDefault()}),b(".js-email-global-unsubscribe-form",function(e){e.querySelector(".js-email-global-unsubscribe-submit").disabled=!0}),i("change",".js-email-global-unsubscribe-form",function(e){const t=e.currentTarget,o=t.querySelector(".js-email-global-unsubscribe-submit"),s=t.querySelectorAll(".js-email-global-unsubscribe"),r=Array.from(s).some(n=>n.checked!==n.defaultChecked);o.disabled=!r}),m(".js-email-unsubscribe-form",async function(e,t){await t.text();for(const o of document.querySelectorAll(".js-email-unsubscribe-message"))o instanceof HTMLElement&&(o.hidden=!o.hidden)});var ss=Object.defineProperty,Dt=(e,t)=>ss(e,"name",{value:t,configurable:!0});function $e(e,t,o){const s=e.split(t);return s[s.length-1]=o,s.join(t)}Dt($e,"replaceEndWith");function Ie(e){const t=document.querySelector(".js-application-callback-urls");if(!t)return;const o=t.querySelectorAll(".js-application-callback-url");if(o.length!==0)for(const r of o)e?r.classList.add("required"):r.classList.remove("required")}Dt(Ie,"markCallbackUrlsRequired"),i("change","input.js-application-callback-url-field, input.js-hook-url-field",function({currentTarget:e}){let t=e.id;t=$e(t,"_","_destroy");const o=document.getElementById(t);o instanceof HTMLInputElement&&(e.value===""?o.value="true":o.value="false")}),i("click",".js-add-application-callback-url",function(e){e.preventDefault();const t=document.querySelector(".js-application-callback-urls");if(!t)return;const o=t.querySelectorAll(".js-application-callback-url"),s=o.length;if(s===0)return;const r=o[s-1],n=r.cloneNode(!0);if(!(n instanceof HTMLElement))return;let c=t.getAttribute("data-index");c===null&&(c="0");const l=(parseInt(c,10)+1).toString();t.setAttribute("data-index",l);const a=n.querySelector("label");if(!a)return;const p=a.getAttribute("for");a.setAttribute("for",p.replace(/\d+/,c));const h=n.querySelector("input");!h||(h.id=h.id.replace(/\d+/,c),h.name=h.name.replace(/\d+/,c),h.value="",r.insertAdjacentElement("afterend",n))}),i("click",".js-delete-application-callback-url",function(e){e.preventDefault();const o=e.currentTarget.closest(".js-application-callback-url");if(!o)return;const s=o.querySelector("input");if(!s)return;const r=document.querySelector(".js-application-callback-urls");if(!r)return;r.querySelectorAll(".js-application-callback-url").length>1?o.remove():s.value="";let c=s.id;c=$e(c,"_","_destroy");const l=document.getElementById(c);l instanceof HTMLInputElement&&(l.value="true")});var rs=Object.defineProperty,ce=(e,t)=>rs(e,"name",{value:t,configurable:!0});function De(){return document.querySelector("input.js-edit-integration-setup-url")}ce(De,"setupUrlField");function Ot(){return De().closest(".form-group").querySelector(".js-setup-url-hint")}ce(Ot,"setupUrlHint");function Oe(){return document.querySelector(".js-help-text-for-redirect-on-update")}ce(Oe,"helpTextForRedirectOnUpdate");function Fe(e){e&&(Ot().textContent=e)}ce(Fe,"updateSetupUrlHint"),i("change",".js-edit-integration-request-oauth-on-install",function(e){const t=e.target,o=De();if(t.checked){Ie(!0),o.disabled=!0,o.placeholder=o.getAttribute("data-hint-unavailable-when-install")||"";const s=o.getAttribute("data-hint-same-as-callback-url")||"";Fe(s);const r=Oe();r.textContent=r.getAttribute("data-hint-redirect-on-update-callback-url")||""}else{Ie(!1),o.disabled=!1,o.placeholder="",o.value=o.getAttribute("data-setup-url")||"";const s=o.getAttribute("data-hint-setup-url")||"";Fe(s);const r=Oe();r.textContent=r.getAttribute("data-hint-redirect-on-update-setup-url")||""}});var ns=Object.defineProperty,k=(e,t)=>ns(e,"name",{value:t,configurable:!0});function K(){const e=document.getElementById("js-update-integration-permissions");e&&e.removeAttribute("disabled")}k(K,"enableFormSubmission");function Ft(){const e=document.querySelectorAll('[id^=integration_permission_]:checked:not([data-permission="none"])');return Array.from(e,t=>t.getAttribute("data-resource"))}k(Ft,"selectedResources");function Mt(e){return e?Array.from(document.querySelectorAll(`.js-integration-hook-event[data-resource~="${e}"]:checked`)):[]}k(Mt,"checkedHookEventsForResource");function Bt(){return Ft().flatMap(e=>Mt(e))}k(Bt,"checkedHookEventNodes");function Ht(e){return!Bt().includes(e)}k(Ht,"hookEventCheckboxCanBeHidden"),i("change",".js-integration-permissions-selector [id^=integration_permission_]",function({currentTarget:e}){const t=e.getAttribute("data-permission"),o=e.getAttribute("data-resource")||"",s=document.querySelectorAll(`.js-integration-hook-event[data-resource~="${o}"]`),r=document.querySelectorAll(`.js-dropdown-container[data-resource~="${o}"]`);if(K(),t!=="none"){const n=document.querySelectorAll(`.js-integration-hook-event-permission-error[data-resource~='${o}']`);for(const c of n)c.classList.add("d-none");for(const c of s)c.readOnly=!1;e.closest(".js-list-group-item").classList.remove("disabled");for(const c of r)c.classList.remove("d-none")}else{for(const n of s)Ht(n)&&(n.readOnly=!0,n.checked=!1,n.closest(".js-dropdown-container").classList.add("anim-fade-in","d-none"));e.closest(".js-list-group-item").classList.add("disabled"),o==="single_file"&&Ut(o,".js-single-files-path-list")}});function Ut(e,t){document.querySelector(`.js-dropdown-container[data-resource~='${e}']`).classList.add("anim-fade-in","d-none"),document.querySelector(t).innerHTML=""}k(Ut,"clearSubmittedFields");function Nt(e){const t=document.querySelector(".js-hook-url-field");if(!t)return;t.classList.toggle("required"),e?t.setAttribute("required","required"):t.removeAttribute("required");const o=t.closest("dl.form-group");!o||o.classList.toggle("required")}k(Nt,"toggleHookUrlRequired"),i("change",".js-hook-active-checkbox",function(e){const t=e.currentTarget;for(const o of document.querySelectorAll(".js-integration-hook-enabled"))o.hidden=!t.checked;Nt(t.checked)});function ie(e=!1){const t=document.querySelector(".js-integration-permissions-selector [id=integration_permission_metadata_read]"),o=t.closest(".js-list-group-item");e&&_e(t,!0),o.querySelector(".js-mandatory-label").hidden=!e;for(const s of o.querySelectorAll("input"))s!==t&&(s.disabled=e)}k(ie,"toggleMetadataSelectionMenu");function zt(){let e=!0;const t=document.querySelectorAll(".js-integration-permissions-selector [id^=integration_permission_][data-resource-parent=repository]:checked");for(const o of t){const s=o.getAttribute("data-permission")||"none";if((o.getAttribute("data-resource")||"")!=="metadata"&&s!=="none"){e=!1;break}}return e}k(zt,"noRepoPermissionSelected"),i("change",".js-integration-permissions-selector [id^=integration_permission_][data-resource-parent^=repository]",function({currentTarget:e}){const t=e.getAttribute("data-permission");(e.getAttribute("data-resource")||"")!=="metadata"&&(t!=="none"?ie(!0):zt()&&ie())}),i("change",".js-integration-permissions-selector [name^=integration]",K),i("click",".js-integration-permissions-selector .js-integration-hook-event",function(e){const t=e.currentTarget;t.readOnly&&(t.closest(".js-send-events").querySelector(".js-integration-hook-event-permission-error").classList.remove("d-none"),e.preventDefault())});function Me(){const e=document.querySelector(".js-single-files input"),t=document.querySelector(".js-single-files template"),o=document.querySelector(".js-single-files-path-list"),s=e.value;if(!s)return;const r=t.content.cloneNode(!0);r instanceof DocumentFragment&&(r.querySelector("input").value=s,r.querySelector(".js-single-files-path").textContent=s,e.value="",o.appendChild(r),o.closest(".Box").hidden=!1,K())}k(Me,"addPath"),we("keydown",".js-single-files input",function(e){e.key==="Enter"&&(e.preventDefault(),Me())}),i("click",".js-single-files .js-path-add",Me),i("click",".js-single-files .js-close",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest("li"),o=t.parentElement;!o||(o.removeChild(t),o.querySelectorAll("li").length===0&&(o.closest(".Box").hidden=!0),K())});var cs=Object.defineProperty,Wt=(e,t)=>cs(e,"name",{value:t,configurable:!0});function Vt(e){const t=e.getAttribute("src");if(!t)return"";const o=document.createElement("a");return o.href=t,o.href}Wt(Vt,"getCheckTargetSrc");async function Gt(e){const o=e.target.form,s=o.querySelectorAll(".js-key-link-input"),r=new FormData;for(const h of s)r.append(h.name,h.value);const n=o.querySelector(".js-key-link-check"),c=Vt(n),l=n.parentElement.querySelector(".js-key-link-check-csrf"),a=await fetch(c,{method:"POST",mode:"same-origin",body:r,headers:{"Scoped-CSRF-Token":l.value,"X-Requested-With":"XMLHttpRequest"}});if(!a.ok){n.hidden=!0;return}const p=await a.text();n.innerHTML=p,n.hidden=!1}Wt(Gt,"handleInput"),te(".js-key-link-input",ke(Gt,300));var is=Object.defineProperty,as=(e,t)=>is(e,"name",{value:t,configurable:!0});function ae(e,t){for(const o of document.querySelectorAll(".js-setting-toggle .js-status-indicator"))o.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed");e.classList.add(t)}as(ae,"setIndicator"),m(".js-setting-toggle",async function(e,t){const o=e.querySelector(".js-status-indicator");ae(o,"status-indicator-loading");try{await t.text(),ae(o,"status-indicator-success")}catch{ae(o,"status-indicator-failed")}}),i("change",".js-toggle-email-settings input",function(){const e=document.querySelector(".js-notification-emails"),t=document.querySelector(".js-toggle-email-settings input:checked");e.classList.toggle("d-none",!t)}),i("change",".js-toggle-ci-failures-only-setting input",function(){const e=!!document.querySelector(".js-toggle-ci-failures-only-setting input:checked"),t=document.querySelector(".js-ci-failures-only-settings input"),o=t.closest("label");o&&o.classList.toggle("color-fg-muted",!e),e||(t.checked=!1),t.disabled=!e});var ls=Object.defineProperty,x=(e,t)=>ls(e,"name",{value:t,configurable:!0});m(".js-revoke-access-form",async function(e,t){await t.html();const o=e.getAttribute("data-id"),s=e.getAttribute("data-type-name"),r=document.querySelector(`.js-revoke-item[data-type='${s}'][data-id='${o}']`);r.remove(),r.classList.contains("new-token")&&document.querySelector(".js-flash-new-token").remove()}),i("click",".js-delete-oauth-application-image",function(){const e=document.querySelector(".js-delete-oauth-application-image-form");j(e)}),i("click",".js-new-callback",function(e){e.preventDefault();const t=e.currentTarget,o=t.closest(".js-callback-urls"),r=o.querySelector(".js-callback-url").cloneNode(!0);if(!(r instanceof HTMLElement))return;r.classList.remove("is-default-callback");const n=r.querySelector("input");n.value="",o.classList.add("has-many"),t.parentNode.insertBefore(r,t)}),i("click",".js-delete-callback",function(e){e.preventDefault();const t=e.currentTarget;t.closest(".js-callback-url").remove();const s=t.closest(".js-callback-urls");s.querySelectorAll(".js-callback-url").length<=1&&s.classList.remove("has-many")}),i("click",".js-oauth-application-whitelist .js-deny-this-request",function(e){const t=e.currentTarget,o=t.nextElementSibling;o.value="denied",j(t.closest(".js-org-application-access-form"))});async function le(e){if(!e)return;const t=e.getAttribute("data-url");if(!t)return;let o;try{o=await A(document,t),e.innerHTML="",e.append(o)}catch{window.location.reload()}}x(le,"fetchKeysList"),i("click",".js-generate-integration-key",function(){const e=document.querySelector(".js-integration-key-management-wrapper");e.classList.add("downloading"),e.classList.contains("js-integration-key-multi")&&(e.classList.add("has-keys"),setTimeout(function(){const t=document.querySelector(".js-integration-keys-container");t&&le(t)},1e3))}),m(".js-remove-integration-key",async function(e,t){try{await t.text()}catch(r){if(!r.response)throw r;e.closest("details").removeAttribute("open");const n=document.querySelector(".js-integration-key-management-wrapper"),l=n.querySelector(".js-error-container").querySelector(".js-error-message");switch(r.response.status){case 500:l.textContent="Oops, something went wrong.";break;case 404:l.textContent="Oops, that key could not be found.";break;default:l.textContent=r.response.json.message}n.classList.add("error");return}const o=e.getAttribute("data-key-id"),s=document.getElementById(o);if(s){const r=s.closest(".js-integration-keys-container");r&&le(r)}}),i("click",".js-error-dismiss",function(){const e=document.querySelector(".js-integration-keys-container");e&&le(e)}),i("change",".js-checkbox-scope",function(e){const t=e.currentTarget;t.checked?de(t,"self"):ue(t,"self"),Xt(t)});function Xt(e){const o=e.closest(".js-check-scope-container").querySelectorAll(".js-checkbox-scope");for(const s of o)s!==e&&(e.checked?de(s,e.value):ue(s,e.value))}x(Xt,"toggleScopeSubsets"),i("change","[data-check-related-scopes]",function(e){const t=e.currentTarget,o=t.getAttribute("data-check-related-scopes").split(" ");for(const s of o){const r=document.querySelectorAll(`[data-scope-for="${s}"] .js-checkbox-scope`);for(const n of r)t.checked?de(n,t.value):ue(n,t.value)}});async function Be(e){const t=e.currentTarget,o=".js-checkbox-scope:checked:disabled",s=t.querySelectorAll(o);for(const r of s)r.disabled=!1}x(Be,"enabledCheckedAndDisabledScopes"),i("submit","#new_oauth_access",Be),i("submit",".js-edit-oauth-access",Be);function ue(e,t){let o=Ue(e);o=Kt(o,t),e.setAttribute("data-selected-by",o.join(" ")),He(e)}x(ue,"removeFromSelectedBy");function de(e,t){const o=Ue(e);o.push(t),e.setAttribute("data-selected-by",o.join(" ")),He(e)}x(de,"addToSelectedBy");function He(e){const t=e.getAttribute("data-selected-by");e.checked=t!=="",e.disabled=e.checked&&t!=="self"}x(He,"updateDependencyGraph");function Ue(e){return e.getAttribute("data-selected-by")?e.getAttribute("data-selected-by").split(" "):[]}x(Ue,"fetchSelectedByArray");function Kt(e,t){const o=e.indexOf(t);return o>-1&&e.splice(o,1),e}x(Kt,"removeItemFromArray");var us=Object.defineProperty,Jt=(e,t)=>us(e,"name",{value:t,configurable:!0});const Qt="VISIBILITY_SELECTED_REPOSITORIES";function pe(){const e=document.querySelector(".js-org-secrets-selection"),o=e.querySelector(".js-secrets-visibility-menu input:checked").getAttribute("value"),s=e.querySelector(".js-repository-items-dialog");s.hidden=o!==Qt;const r=e.querySelector(".js-repository-selection-component"),n=Array.from(r.querySelectorAll(".js-repository-item-checkbox")).filter(l=>l.checked).length,c=s.querySelector(".js-selected-repos-label");c.hidden=o!==Qt,c.querySelector(".js-selected-repositories-count").textContent=n.toString(),c.querySelector(".js-multiple-repositories-text").hidden=n===1,c.querySelector(".js-single-repository-text").hidden=n!==1}Jt(pe,"updateSelectedRepositoryCount");function me(e){const o=e.target.closest(".js-encrypt-submit").querySelector(".js-btn-save-secret");!o||(o.disabled=!1)}Jt(me,"enableSaveSecretButton"),i("click",".js-new-secret-value-button",function(e){const o=e.currentTarget.closest(".js-secret-value-form-group");o.querySelector(".js-new-secret-value-input").hidden=!1,o.querySelector(".js-new-secret-value-prompt").hidden=!0,me(e)}),i("reset",".js-org-secrets-selection .js-repository-selection-component",pe),i("details-menu-selected",".js-secrets-visibility-menu",me,{capture:!0}),i("details-menu-selected",".js-secrets-visibility-menu",pe,{capture:!0});var ds=Object.defineProperty,Ne=(e,t)=>ds(e,"name",{value:t,configurable:!0}),Yt=(e=>(e.Authorized=".js-cap-authorized",e.Checking=".js-cap-checking",e.RetryChecking=".js-cap-retry-checking",e.Unauthorized=".js-cap-unauthorized",e.Forbidden=".js-cap-forbidden",e))(Yt||{});function Zt(){R(".js-cap-authorized")}Ne(Zt,"displayAuthorizedSection");async function ze(e){const o=R(".js-cap-checking").querySelector("[data-verify-path]").getAttribute("data-verify-path"),s=await fetch(o.replace("{name}",e),{headers:{Accept:"application/json"}});if(s.status===403){R(".js-cap-forbidden");return}if(!s.ok){R(".js-cap-retry-checking");return}const{authorized:r,path:n}=await s.json();if(r)R(".js-cap-authorized");else{const c=document.querySelector("#js-cap-authorization-link");c.href=n,R(".js-cap-unauthorized")}}Ne(ze,"verifyAuthorization");function R(e){for(const o of Object.values(Yt)){const s=document.querySelector(o);s.hidden=!0}const t=document.querySelector(e);return t.hidden=!1,t}Ne(R,"displayAuthorizationSectionFor"),i("click","#js-retry-cap-check",()=>{const e=document.querySelector(".js-target-container .js-repository-owner-choice:checked");ze(e.value)});var ps=Object.defineProperty,y=(e,t)=>ps(e,"name",{value:t,configurable:!0});function w(e,t){const o=document.querySelector(e);o&&(o.textContent=t)}y(w,"updateElText");function We(e){return document.querySelectorAll(e).length}y(We,"elCount");function eo(){const e=document.querySelector("#user_programmatic_access_name");w('#token-summary [data-token-summary="name"]',e.value)}y(eo,"updateName");function P(e){const t=We(`[data-${e}-permission] .js-permissions-selector [id^=integration_permission_]:checked:not([data-permission="none"])`);w(`#token-summary [data-token-summary="${e}-permission-count"]`,String(t))}y(P,"updatePermissionCount");function Ve(){const e=document.querySelector(".js-installation-repositories-radio:checked"),t=e?e.value:"none";if(t==="selected"){const o=We(".js-selected-repository-field");w('#token-summary [data-token-summary="repository-count"]',String(o))}else w('#token-summary [data-token-summary="repository-count"]',t)}y(Ve,"updateRepositoryCount");function Ge(){const e=document.querySelector(".js-default-token-expiration-select").value;if(e==="none")w('#token-summary [data-token-summary="expiration"]',"never.");else if(e==="custom"){const t=document.querySelector("#user_programmatic_access_custom_expires_at").value,o=t?Xe(new Date(`${t}T00:00:00`)):"an unselected custom date";w('#token-summary [data-token-summary="expiration"]',`on ${o}.`)}else{const t=to(e);w('#token-summary [data-token-summary="expiration"]',`on ${t}.`)}}y(Ge,"updateExpiration");function Xe(e){return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}).format(e).replace(/,(?=\s\d{4})/,"")}y(Xe,"formatDateString");function to(e){const t=new Date;return t.setDate(t.getDate()+Number(e)),Xe(t)}y(to,"calculateDate");function Ke(e="User"){let t=".js-target-type-user-section",o=".js-target-type-org-section";e==="Organization"&&(t=".js-target-type-org-section",o=".js-target-type-user-section");const s=document.querySelectorAll(t),r=document.querySelectorAll(o);for(const n of r)n.hidden=!0;for(const n of s)n.hidden=!1}y(Ke,"toggleTargetTypeSectionsFor");function oo(){const e=document.querySelectorAll('[id^=integration_permission_][data-permission="none"]');for(const t of e)t.checked=!0;ie(),Je()}y(oo,"resetPermissions");function so(){const e=document.querySelector(".js-installation-repositories-radio:checked").value,t=document.querySelector(".js-integration-permissions-selector section[data-repository-permission]");e==="none"?(t.hidden=!0,w('#token-summary [data-token-summary="repository-permission-count"]',String(0))):(t.hidden=!1,P("repository"))}y(so,"toggleRepoPermissionVisibility");function Je(){P("repository"),P("user"),P("organization"),Ve();const e=document.querySelector("#targeting_organizations"),t=(e==null?void 0:e.value)==="true"?"Organization":"User";Ke(t)}y(Je,"setInitialValues");function ro(e,t){e==="User"?Zt():ze(t)}y(ro,"checkCAPAuthorizationFor");function no(e){Ct();const t=e.currentTarget,o=t.classList.contains("js-repository-owner-is-org")?"Organization":"User";Ke(o),ro(o,t.value);const s=document.querySelector("#target_name");s.value=t.value,Tt(s.value)}y(no,"updateTargetDependencies"),b(".js-user-programmatic-access-form .js-integrations-install-repo-selection",e=>{new MutationObserver(Ve).observe(e,{childList:!0,subtree:!0})}),b(".js-user-programmatic-access-form",Je),i("change",".js-user-programmatic-access-form [data-repository-permission] .js-permissions-selector [id^=integration_permission_]",()=>P("repository")),i("change",".js-user-programmatic-access-form [data-user-permission] .js-permissions-selector [id^=integration_permission_]",()=>P("user")),i("change",".js-user-programmatic-access-form [data-organization-permission] .js-permissions-selector [id^=integration_permission_]",()=>P("organization")),i("change",".js-user-programmatic-access-form .js-installation-repositories-radio",()=>{oo(),so()}),i("change",".js-user-programmatic-access-form #user_programmatic_access_name",eo),i("change",".js-user-programmatic-access-form .js-default-token-expiration-select",Ge),i("change",".js-user-programmatic-access-form #user_programmatic_access_custom_expires_at",Ge),i("change",".js-target-container .js-repository-owner-choice",no);var ms=Object.defineProperty,co=(e,t)=>ms(e,"name",{value:t,configurable:!0});function io(e){const t=e.target,o=t.closest(".js-policy-repos-container").querySelector(".js-policy-repos-form"),s=o.getAttribute("data-form-field-name"),r=ao(t,s),n=o.querySelector(`[value='${r.value}']`);n?n.replaceWith(r):o.append(r)}co(io,"selectRepoItem");function ao(e,t){const o=document.createElement("input");return o.type="hidden",o.name=e.checked?"enable[]":"disable[]",o.value=e.value,t&&o.setAttribute("data-form-field-name",t),o}co(ao,"createRepoInput"),i("change",".js-policy-repos-container .js-repository-item-checkbox",io);var fs=Object.defineProperty,_=(e,t)=>fs(e,"name",{value:t,configurable:!0});function Qe(e,t){const o=t.querySelector(".js-repo-access-error");o.textContent=e,o.classList.remove("d-none")}_(Qe,"showError");function Ye(){for(const e of document.querySelectorAll(".js-repo-access-error"))e.textContent="",e.classList.add("d-none")}_(Ye,"hideErrors");function lo(e){const t=e.querySelector(".js-add-new-collab");t&&(t.disabled=!0)}_(lo,"resetInviteForm");function uo(e){const t=document.querySelector(".js-repo-access-team-select");if(t){let o=0;for(const s of t.querySelectorAll(".js-repo-access-team-select-option"))e===s.getAttribute("data-team-id")&&(s.hidden=!0),s.hidden||o++;o===0&&t.closest(".js-repo-access-group").classList.add("no-form")}}_(uo,"handleTeamAdd");function po(e){const t=document.querySelector(".js-repo-access-team-select");if(t){const o=t.querySelector(`[data-team-id='${e}']`);o instanceof HTMLElement&&(o.hidden=!1),t.closest(".js-repo-access-group").classList.remove("no-form")}}_(po,"handleTeamRemove");async function mo(e,t){Ye();const s=(await t.json()).json;let r;const n=e.closest(".js-repo-access-container"),c=n.querySelector(".js-repo-access-group");c.id!=="collaborators"&&(r=c.querySelector(".js-repo-access-list"));const l=e.querySelector(".js-add-repo-access-field");if(l instanceof HTMLInputElement){const a=l.value;l.value="",c.id==="teams"&&uo(a)}if(s.error){Qe(s.error,n);return}if(lo(e),r){r.insertAdjacentHTML("beforeend",s.html);const a=r.querySelectorAll(".js-repo-access-entry");a[a.length-1].querySelector("a").focus()}if(s.seats||s.seats===0){const a=s.seats===1?"seat":"seats",p=document.getElementById("available-seats");p&&(p.innerHTML=`${s.seats} ${a}`)}}_(mo,"handleInviteResponse"),i("details-menu-selected",".js-repo-access-team-select-menu",function(e){const t=e.detail.relatedTarget,o=t.getAttribute("data-team-id")||"",s=t.closest(".js-repo-access-group").querySelector(".js-add-repo-access-field");s.value=o,j(s.form)},{capture:!0}),m(".js-add-repo-access-form",mo),m(".js-remove-repo-access-form",async function(e,t){if(e.hasAttribute("data-skip-remote"))return;try{await t.text()}catch{Qe(e.getAttribute("data-error-message")||"",e.closest(".js-repo-access-group"));return}Ye();const o=e.closest(".js-repo-access-entry");e.closest(".js-repo-access-group").id==="teams"&&po(o.getAttribute("data-team-id")||""),o.remove()});function fe(e){for(const t of e)t.hidden=!t.hidden}_(fe,"toggleHidden");function he(e){for(const t of e)t.disabled=!1,t.closest(".js-role-checkbox").classList.remove("color-fg-muted")}_(he,"reenableAllRoles");function J(e,t){e instanceof HTMLElement&&(e.hidden=t)}_(J,"toggleRoleBadge"),i("combobox-commit",".js-repo-add-access-search",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest(".js-repo-add-access-search"),o=e.target.closest(".js-autocomplete-item"),s=t.querySelector(".js-selected-member-id");s.textContent=e.target.getAttribute("data-autocomplete-label")||"selection";const r=t.querySelector(".js-selected-member-badge"),n=o.querySelector(".js-selection-badge");r.innerHTML=n.innerHTML,fe(Array.from(t.querySelectorAll(".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")));const c=t.querySelector(".js-base-role-badge");J(c,!0);const l=o.getAttribute("data-type"),a=o.hasAttribute("data-admin"),p=a?"[data-disable-org-admin]":"[data-disable-org-role]",h=t.querySelectorAll(p),zo=t.querySelectorAll('input[name="role"]');if(zo.length>0){if(he(zo),l==="org-member"){J(c,!1);for(const Se of h)Se.disabled=!0,Se.closest(".js-role-checkbox").classList.add("color-fg-muted")}if(a)t.querySelector(".js-role-admin").checked=!0;else if(c&&l==="org-member"){const Se=c.closest(".js-role-checkbox").querySelector('input[name="role"]');Se.checked=!0}else(l==="outside-collab"||l==="team"||l==="org-member"||l==="email")&&(t.querySelector(".js-role-pull").checked=!0)}}),i("click",".js-cancel-selection",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest(".js-repo-add-access-search"),o=t.querySelector(".js-repo-add-access-search-input");o.value="";const s=t.querySelectorAll('input[name="role"]');he(s),fe(Array.from(t.querySelectorAll(".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")));const r=t.querySelector(".js-base-role-badge");J(r,!0)}),i("details-dialog-close",".js-add-access-form",function({currentTarget:e}){const t=e.querySelector(".js-repo-add-access-search-input");t.value="";const o=t.querySelectorAll('input[name="role"]');he(o);const s=e.querySelector(".js-repo-add-access-search-selection"),r=e.querySelector(".js-repo-add-access-search-selected");if(r.hidden)return;fe([r,s]);const n=t.querySelector(".js-base-role-badge");J(n,!0)});var hs=Object.defineProperty,U=(e,t)=>hs(e,"name",{value:t,configurable:!0});i("change",".js-repo-features-form input[type=checkbox]",function({currentTarget:e}){const o=e.closest(".js-repo-option").querySelector(".js-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")}),m(".js-repo-features-form",async function(e,t){let o;try{o=await t.html()}catch{for(const r of e.querySelectorAll(".status-indicator-loading")){r.classList.remove("status-indicator-loading"),r.classList.add("status-indicator-failed");const c=r.closest(".js-repo-option").querySelector("input[type=checkbox]");c.checked=!c.checked}return}for(const s of e.querySelectorAll(".status-indicator-loading"))s.classList.remove("status-indicator-loading"),s.classList.add("status-indicator-success");document.querySelector(".js-repo-nav").replaceWith(o.html)}),i("change",".js-merge-features-form input[type=checkbox]",function({currentTarget:e}){const t=e.form;for(const r of t.querySelectorAll(".errored"))r.classList.remove("errored");const s=e.closest(".js-repo-option").querySelector(".js-status-indicator");s.classList.remove("status-indicator-success","status-indicator-failed"),s.classList.add("status-indicator-loading")}),m(".js-merge-features-form",async function(e,t){try{await t.text()}catch(o){const s=o.response&&o.response.text.endsWith("(protected_branch_policy)")?".js-no-merge-commit-warning":".js-select-one-warning";for(const r of e.querySelectorAll(s))r instanceof HTMLElement&&(r.hidden=!1);for(const r of e.querySelectorAll(".status-indicator-loading")){r.classList.remove("status-indicator-loading"),r.classList.add("status-indicator-failed");const n=r.closest(".js-repo-option");n.classList.add("errored");const c=n.querySelector("input[type=checkbox]");c.checked=!c.checked}for(const r of e.querySelectorAll(".status-indicator-success"))r.classList.remove("status-indicator-success");return}for(const o of e.querySelectorAll(".errored"))o.classList.remove("errored");for(const o of e.querySelectorAll(".js-select-one-warning, .js-no-merge-commit-warning"))o instanceof HTMLElement&&(o.hidden=!0);for(const o of e.querySelectorAll(".status-indicator-loading"))o.classList.remove("status-indicator-loading"),o.classList.add("status-indicator-success")}),i("change","input.js-required-status-toggle",function({currentTarget:e}){e.closest(".js-protected-branch-settings").querySelector(".js-required-statuses").classList.toggle("d-none",!e.checked)}),i("change","input.js-required-deployments-toggle",function({currentTarget:e}){const o=e.closest(".js-protected-branch-settings").querySelector(".js-required-deployments");o.hidden=!e.checked}),i("change","input.js-required-status-checkbox",function({currentTarget:e}){e.closest(".js-protected-branches-item").querySelector(".js-required-status-badge").classList.toggle("d-none",!e.checked)}),i("auto-complete-change",".js-add-protected-branch-required-status-check",async function({target:e}){const t=e,o=t.value;if(!o)return;t.value="";const r=t.closest(".js-protected-branch-options").querySelector(".js-required-status-checks"),n=r.querySelector(`li[data-context='${o}']`);if(n){n.querySelector(".js-required-status-check-context").classList.add("user-already-added");return}const c=t.getAttribute("data-add-url"),l=new URL(c,window.location.origin),a=new URLSearchParams(l.search.slice(1));a.append("item",o),l.search=a.toString(),r.append(await A(document,l.toString()))}),i("click",".js-remove-required-status-check",function({currentTarget:e}){e.closest(".js-required-status-check").remove()}),i("change","input.js-reviewers-required-toggle",function({currentTarget:e}){const t=e.closest(".js-protected-branch-options"),o=t==null?void 0:t.querySelector(".js-reviewers-count");if(!o)return;o.hidden=!e.checked;const s=o.querySelector(`input#required_approving_review_count_${o.hidden?0:1}`);!s||(s.click(),o.focus())}),i("change",".js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle",function({currentTarget:e}){const o=e.closest(".js-protected-branch-options").querySelector(".js-authorized-pushers");o.classList.toggle("d-none",!e.checked),o.querySelector(".js-add-protected-branch-user-or-team input").focus()}),i("change","input.js-bypass-pull-request-toggle",function({currentTarget:e}){var t;const o=e.closest(".js-protected-branch-options");if(!o)return;const s=o.querySelector(".js-pull-request-bypassers");if(!!s){if(s.hidden=!e.checked,s.hidden){const r=o.querySelector(".js-authorized-users-and-teams");r==null||r.replaceChildren()}(t=s.querySelector(".js-add-protected-branch-user-or-team input"))==null||t.focus()}}),i("change",'input[type="radio"][name="allow_force_push"]',function({currentTarget:e}){var t;const o=e.closest(".js-protected-branch-options");if(!o)return;const s=o.querySelector(".js-allow-force-pushers");if(!!s){if(s.hidden=e.value!=="actors",s.hidden){const r=o.querySelector(".js-authorized-users-and-teams");r==null||r.replaceChildren()}(t=s.querySelector(".js-add-protected-branch-user-or-team input"))==null||t.focus()}}),i("change","input.js-force-push-toggle",function({currentTarget:e}){const t=e.closest(".js-protected-branch-options");if(!t)return;const o=t.querySelector(".js-restrict-who-pushes");if(!!o&&(o.hidden=!e.checked,o.hidden)){const s=t.querySelector(".js-authorized-users-and-teams");s==null||s.replaceChildren()}}),i("click",".js-protected-branch-merge-queue-toggle",function(e){const t=e.currentTarget,o=t.getAttribute("data-confirm-if-checked")||"";!t.checked&&!confirm(o)&&e.preventDefault();const s=t.closest(".js-protected-branch-settings");if(!s)return;const r=s.querySelector(".js-protected-branch-merge-queue-settings");!r||(r.hidden=!t.checked)}),i("change",".js-protected-branch-include-admin-toggle",function({currentTarget:e}){const o=e.closest(".js-protected-branch-settings").querySelectorAll(".js-protected-branch-admin-permission");for(const s of o)s.classList.toggle("d-none"),s.classList.toggle("active",!s.classList.contains("d-none"))});function Ze(e){const t=e.querySelector(".js-authorized-pushers");if(!(t==null?void 0:t.getAttribute("data-limit")))return;const o=parseInt(t.getAttribute("data-limit")||""),s=t.querySelectorAll(".js-authorized-user-or-team").length;t.classList.toggle("at-limit",s>=o)}U(Ze,"toggleMaxAllowedPushers"),i("auto-complete-change",".js-add-protected-branch-user-or-team",async function({target:e}){const t=e,o=t.value;if(!o)return;t.value="";const s=t.closest(".js-protected-branch-options"),r=s.querySelector(".js-authorized-users-and-teams"),n=r.querySelector(`div[data-user-or-team-name='${o}']`);if(n){n.querySelector(".js-protected-branch-pusher").classList.add("user-already-added");return}const c=t.getAttribute("data-add-url"),l=new URL(c,window.location.origin),a=new URLSearchParams(l.search.slice(1));a.append("item",o),l.search=a.toString(),r.append(await A(document,l.toString())),Ze(s)}),i("click",".js-remove-authorized-user-or-team",function({currentTarget:e}){const t=e.closest(".js-protected-branch-options");e.closest(".js-authorized-user-or-team").remove(),Ze(t)}),i("click",".js-pages-cname-save-btn",function(){const e=document.querySelector(".js-pages-cname-remove-btn");e&&(e.disabled=!1)}),b("#pages-cname-field",{constructor:HTMLInputElement,add(e){ht(e,function(){const t=document.querySelector(".js-pages-cname-save-btn"),o=document.querySelector(".js-pages-cname-remove-btn");e.value===""&&o?t.disabled=!0:t.disabled=e.value===e.defaultValue})}});const fo=15*1e3;setTimeout(et,fo);async function et(){const e=document.querySelector(".js-pages-certificate-status");if(e){const t=e.getAttribute("data-status-url"),o=await A(document,t);e.replaceWith(o),setTimeout(et,fo)}}U(et,"checkCertificateStatus"),setTimeout(tt,2e3);async function tt(){const e=document.querySelector(".js-pages-domain-status");if(e){const t=e.getAttribute("data-domain-state");if(!["pending","queued"].includes(t))return;const o=e.getAttribute("data-domain-status-url"),s=await A(document,o);e.replaceWith(s),setTimeout(tt,5e3)}}U(tt,"checkDomainStatus");function N(){return document.querySelector(".js-update-page-source-btn")}U(N,"getPageSourceSubmitBtn");function Q(e){const t=document.querySelector(`input[name=${e}]:checked`);return t?t.value:null}U(Q,"getPageSource");function ho(){const e=document.querySelector(".js-disable-page-warning");return e||null}U(ho,"getPageWarningMessage");const ot=Q("source"),go=Q("source_dir");i("change",".js-select-branch",e=>{const t=e.target;if(t.name!=="source")return;const o=document.querySelector(".js-select-source-dir"),s=document.querySelector(".js-branch-icon");t.value!==""?(s.hidden=!1,o.hidden=!1):(s.hidden=!0,o.hidden=!0);const r=ho();r!=null&&(t.value===""?r.hidden=!1:r.hidden=!0),t.value!==ot?(N().disabled=!1,t.value===""&&r!=null&&(N().disabled=!0)):(go===Q("source_dir")||ot==="")&&(N().disabled=!0)}),i("change",".js-select-source-dir",e=>{const t=e.target;if(t.name!=="source_dir")return;t.value!==go?N().disabled=!1:Q("source")===ot&&(N().disabled=!0)});var gs=Object.defineProperty,yo=(e,t)=>gs(e,"name",{value:t,configurable:!0});function bo(e){const t=e.querySelector("form>button");t.disabled=!0,e.querySelector("summary").classList.add("disabled");for(const s of e.querySelectorAll("details"))s.removeAttribute("open")}yo(bo,"disableRestoreButton");function jo(e,t){const o=e.querySelector(".js-restore-status");o.innerHTML="",o.append(t)}yo(jo,"restoreStatus"),i("submit",".js-repo-restore",async function(e){const t=e.currentTarget;e.preventDefault();let o;const s=t.closest(".js-deleted-repository");try{o=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}})}catch{}if(!o||!o.ok)return;const r=F(document,await o.text());jo(s,r)}),b(".js-restore-repo-job",function(e){const t=e.closest(".js-deleted-repository");bo(t)}),i("click",".js-disableable-summary.disabled",e=>e.preventDefault()),i("click",".js-used-by-selector-button",function({currentTarget:e}){const t=e.closest(".js-used-by-selector");if(t!=null){const o=t.querySelector(".js-status-indicator");o!=null&&(o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading"))}});var ys=Object.defineProperty,$=(e,t)=>ys(e,"name",{value:t,configurable:!0});const vo=new WeakMap,Y=new WeakMap,bs=100;async function st(e){const t=e.closest(".js-repository-selection-component"),o=vo.get(t)||0;if(o>bs)return;e.textContent=e.getAttribute("data-disable-with"),e.disabled=!0,vo.set(t,o+1);const s=e.getAttribute("data-url");So(t,s),await Promise.resolve(),t.dispatchEvent(new CustomEvent("repository-items-loaded"))}$(st,"loadMoreRepositoryItems");async function So(e,t){const o=await A(document,t);e.querySelector(".js-more-repository-items-replace-target").replaceWith(o),ko(e)}$(So,"fetchItemsAsync"),i("click",".js-more-repository-items-button",function(e){const t=e.currentTarget;st(t)}),b(".js-more-repository-items-button",{constructor:HTMLButtonElement,add:st});function ko(e){ut(e.querySelector(".js-repository-items-filter-input"),"change")}$(ko,"filterRepositoryItems");function qo(e){const t=e.target;if((t==null?void 0:t.type)!=="checkbox")return;const o=t.closest(".js-repository-selection-component"),s=Y.get(o)||new Set;s.has(t.value)?s.delete(t.value):s.add(t.value),Y.set(o,s);const r=t.closest(".js-repository-items-dialog");rt(r,s.size>0)}$(qo,"saveChangedCheckbox");function rt(e,t){const o=e.querySelector(".js-btn-select-repositories");o.disabled=!t}$(rt,"setUpdateSelectionButtonState");function wo(e){const t=e.currentTarget.closest(".js-repository-items-dialog");if(!t)return;const o=t.querySelector(".js-repository-selection-component");if(!o.hasAttribute("data-discard-changes-on-close"))return;const s=Y.get(o);if(!!s){for(const r of s.keys()){const n=o.querySelector(`[value='${r}']`);n.checked=!n.checked}Y.set(o,new Set),rt(t,!1)}}$(wo,"undoChangedCheckboxes");function nt(e){const t=e.currentTarget,o=t.closest(".js-repository-items-dialog");if(!o)return;const s=Array.from(t.querySelectorAll(".js-repository-item-checkbox")).filter(n=>n.checked).length,r=o.querySelector(".js-selected-repositories-count-container");r.querySelector(".js-selected-repositories-count").textContent=s.toString(),r.querySelector(".js-multiple-repositories-text").hidden=s===1,r.querySelector(".js-single-repository-text").hidden=s!==1}$(nt,"updateSelectedRepositoryCount"),i("change",".js-repository-selection-component",nt),i("reset",".js-repository-selection-component",nt),i("change",".js-repository-selection-component",qo),i("click",".js-btn-select-repositories",function(e){const o=e.target.closest(".js-repository-items-dialog").querySelector(".js-repository-selection-component");Y.set(o,new Set),o.closest("details-dialog").toggle(!1),document.querySelector(".js-org-secrets-selection")&&(pe(),me(e))}),i("details-dialog-close",".js-repository-items-dialog",wo),i("click",".js-repo-toggle-team",async function({currentTarget:e}){kt(".js-repo-team-suggestions-pagination",".js-repo-toggle-team"),qt(e,"form.js-repository-teams")}),te(".js-synced-repo-owner-input",function(e){const t=e.target,o=t.getAttribute("data-sync");if(!o)return;const s=document.querySelectorAll(`[data-sync-with="${o}"]`);for(const r of s)r.textContent=t.value});var _o=Object.defineProperty,js=Object.getOwnPropertyDescriptor,vs=(e,t)=>_o(e,"name",{value:t,configurable:!0}),I=(e,t,o,s)=>{for(var r=s>1?void 0:s?js(t,o):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(r=(s?c(t,o,r):c(r))||r);return s&&r&&_o(t,o,r),r};let L=class extends HTMLElement{validate(){this.resetState();const e=this.input.hasAttribute("data-allow-nil");if(!this.input.value&&!e)return;const t=+this.input.value,o=this.input.getAttribute("data-min"),s=this.input.getAttribute("data-max");if(e&&!t){this.button.disabled=!1;return}if(o&&t<+o){this.group.classList.add("errored"),this.minMessage.hidden=!1,Le(this.note);return}if(s&&t>+s){this.group.classList.add("errored"),this.maxMessage.hidden=!1,Le(this.note);return}this.button.disabled=!1}resetState(){this.minMessage.hidden=!0,this.maxMessage.hidden=!0,this.group.classList.remove("errored"),this.button.disabled=!0}};vs(L,"RetentionFormElement"),I([u],L.prototype,"group",2),I([u],L.prototype,"input",2),I([u],L.prototype,"button",2),I([u],L.prototype,"minMessage",2),I([u],L.prototype,"maxMessage",2),I([u],L.prototype,"note",2),L=I([S],L);var Ss=Object.defineProperty,Lo=(e,t)=>Ss(e,"name",{value:t,configurable:!0});m(".js-create-runner-label-form",async function(e,t){var o;let s;const r=e.closest(".js-runner-labels-menu"),n=r.querySelector(".js-runner-label-error");try{s=await t.html()}catch(p){((o=p.response.json)==null?void 0:o.message)&&n&&(n.textContent=p.response.json.message,n.hidden=!1);return}if(!s||!s.html)return;n&&(n.hidden=!0,n.textContent="");const c=s.html.querySelector(".js-label-input");r.querySelector(".js-filterable-runner-labels").prepend(s.html),c==null||c.click();const a=r.querySelector(".js-label-filter-field");a.value="",a.focus()});function Ao({currentTarget:e}){if(e instanceof Element){const t=e.querySelector(".js-runner-labels-form");j(t)}}Lo(Ao,"submitOnMenuClose");function xo({currentTarget:e}){var t;if(e instanceof Element){const s=e.querySelector(".js-filterable-runner-labels").getElementsByClassName("select-menu-item"),r=[];for(const a of s)if(((t=a.attributes.getNamedItem("aria-checked"))==null?void 0:t.value)==="true"){const p=a.querySelector(".select-menu-item-text");p instanceof HTMLElement&&r.push(p.textContent)}const n=e.closest(".js-label-container"),c=n.querySelector("#premium-runner-label-template"),l=n.querySelector("#premium-runner-label-details-list");for(let a=n.children.length-2;a>0;a--)n.children[a].classList.contains("js-user-label")&&n.removeChild(n.children[a]);for(const a of r){const p=c.cloneNode(!0);p instanceof HTMLElement&&(p.removeAttribute("hidden"),p.textContent=a,n.appendChild(p))}n.appendChild(l)}}Lo(xo,"addLabelsOnMenuClose"),i("details-menu-selected",".js-runner-labels-details",function(e){e.currentTarget.addEventListener("toggle",Ao,{once:!0})},{capture:!0}),i("details-menu-selected",".js-runner-labels-details-list",function(e){e.currentTarget.addEventListener("toggle",xo,{once:!0})},{capture:!0}),m(".js-saved-reply-delete",async function(e,t){await t.text();const o=e.closest(".js-saved-reply-container"),s=o.querySelectorAll(".js-saved-reply-list-item").length,r=o.querySelector(".js-saved-reply-list");r.hidden=s<=1;const n=o.querySelector(".js-saved-reply-empty-container");s===1&&(n.hidden=!1),e.closest(".js-saved-reply-list-item").remove()});var Po=Object.defineProperty,ks=Object.getOwnPropertyDescriptor,qs=(e,t)=>Po(e,"name",{value:t,configurable:!0}),Z=(e,t,o,s)=>{for(var r=s>1?void 0:s?ks(t,o):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(r=(s?c(t,o,r):c(r))||r);return s&&r&&Po(t,o,r),r};let D=class extends HTMLElement{toggle(){this.checkbox.checked?(this.status.hidden=!0,this.dialog.open=!0):(this.status.hidden=!1,j(this.form))}confirm(){this.status.hidden=!1,j(this.form),this.dialog.open=!1}close(){this.checkbox.checked=!1}};qs(D,"AdvancedSecurityNewReposElement"),Z([u],D.prototype,"checkbox",2),Z([u],D.prototype,"status",2),Z([u],D.prototype,"dialog",2),Z([u],D.prototype,"form",2),D=Z([S],D);var ws=Object.defineProperty,C=(e,t)=>ws(e,"name",{value:t,configurable:!0});function ge(){return document.querySelector(".js-add-u2f-registration-form")}C(ge,"u2fForm");const Co="data-webauthn-register-request";function ye(e){var t;e.webauthn_register_request&&((t=ge())==null||t.setAttribute(Co,JSON.stringify(e.webauthn_register_request)))}C(ye,"updateDataAttribute"),m(".js-u2f-registration-delete",async function(e,t){const o=e.closest(".js-u2f-registration"),s=o.querySelector(".js-u2f-registration-delete-button");s?s.disabled=!0:o.classList.add("is-sending");const r=await t.json();if(ye(r.json),o.remove(),s&&r.json.registered_trusted_devices_count===0){const n=document.querySelector(".js-add-u2f-registration");n.hidden=!1}}),i("click",".js-add-u2f-registration-link",function(){const e=document.querySelector(".js-new-u2f-registration");e.classList.add("is-active"),e.classList.remove("is-showing-error"),document.querySelector(".js-u2f-registration-nickname-field").focus()});function be(e){const t=document.querySelector(".js-new-u2f-registration");t.classList.add("is-showing-error"),t.classList.remove("is-sending");for(const r of t.querySelectorAll(".js-webauthn-message"))r.hidden=!0;const o=t.querySelector(".js-webauthn-registration-error");o.hidden=!1;const s=t.querySelector(".js-webauthn-registration-error-message");s.textContent=e!=null?e:""}C(be,"showError");function To(){document.querySelector(".js-new-u2f-registration").classList.remove("is-sending","is-active")}C(To,"resetForm");async function Eo(e){if(!await yt())throw new Error("sudo failed");const o=document.querySelector(".js-add-u2f-registration-form");o.elements.namedItem("response").value=JSON.stringify(e);let s;try{if(s=await fetch(o.action,{method:o.method,body:new FormData(o),headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),!s.ok)throw new Error("Response was not ok");const r=await s.json();ye(r),To();const n=r.registration;if(n){const c=document.querySelector(".js-u2f-registrations");c?c.append(F(document,n)):(document.querySelector(".js-u2f-registration-nickname-field").value=r.nickname||"",document.querySelector(".js-new-u2f-registration-success").hidden=!1,document.querySelector(".js-new-u2f-registration").hidden=!0,document.querySelector(".js-new-u2f-registration-never-ask").hidden=!0,document.querySelector(".js-webauthn-confirm").hidden=!0,document.querySelector(".js-trusted-device-continue").focus())}}catch{if(s){const n=await s.json();ye(n),be(n.error)}else be()}}C(Eo,"saveRegistration");function Ro(){const e=document.querySelector(".js-new-u2f-registration");e.classList.add("is-sending"),e.classList.remove("is-showing-error")}C(Ro,"showSpinner");async function $o(){try{Ro();const e=JSON.parse(ge().getAttribute(Co)),t=await bt(e);await Eo(t)}catch(e){const o=ge().classList.contains("js-trusted-device-safari-workaround")&&e.name==="NotAllowedError";if(e.name==="InvalidStateError"||o)document.querySelector(".js-new-u2f-registration").hidden=!0,document.querySelector(".js-webauthn-confirm").hidden=!1,document.querySelector(".js-webauthn-confirm-button").focus();else throw be(),e}}C($o,"waitForWebauthnDevice");function ct(){$o()}C(ct,"attemptSecurityKeyRegistration"),i("click",".js-add-u2f-registration-retry",function(){ct()}),b(".js-add-u2f-registration-form.for-trusted-device",{constructor:HTMLFormElement,add(e){e.hidden=!1,document.querySelector(".js-trusted-device-registration-button").focus()}}),i("submit",".js-add-u2f-registration-form",function(e){e.preventDefault(),ct()}),b(".js-webauthn-box",function(e){e.classList.toggle("available",gt())}),i("auto-check-success",".js-u2f-registration-nickname-field",function(){const e=document.querySelector(".js-trusted-device-continue");e.disabled=!1}),i("auto-check-send",".js-u2f-registration-nickname-field",function(){const e=document.querySelector(".js-trusted-device-continue");e.disabled=!0});var Io=Object.defineProperty,_s=Object.getOwnPropertyDescriptor,Ls=(e,t)=>Io(e,"name",{value:t,configurable:!0}),je=(e,t,o,s)=>{for(var r=s>1?void 0:s?_s(t,o):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(r=(s?c(t,o,r):c(r))||r);return s&&r&&Io(t,o,r),r};let z=class extends HTMLElement{updateCount(e){this.selectedCount.textContent=String(e),this.pluralItemsDescription.hidden=e===1,this.singularItemDescription.hidden=e!==1}};Ls(z,"SelectedItemCountElement"),je([u],z.prototype,"selectedCount",2),je([u],z.prototype,"pluralItemsDescription",2),je([u],z.prototype,"singularItemDescription",2),z=je([S],z);var Do=Object.defineProperty,As=Object.getOwnPropertyDescriptor,xs=(e,t)=>Do(e,"name",{value:t,configurable:!0}),T=(e,t,o,s)=>{for(var r=s>1?void 0:s?As(t,o):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(r=(s?c(t,o,r):c(r))||r);return s&&r&&Do(t,o,r),r};let q=class extends HTMLElement{connectedCallback(){var e;(e=this.includeFragment)==null||e.addEventListener("include-fragment-replaced",()=>{this.updateCount(),this.saveButton&&(this.saveButton.disabled=!1)})}get count(){return this.items.filter(e=>e.checked).length}updateCount(){const e=this.count;this.selectedCount.textContent=String(e),this.description.hidden=e<=0,this.pluralItemsDescription.hidden=e===1,this.singularItemDescription.hidden=e!==1}hideDescription(){this.description.hidden=!0}showDescription(){const e=this.count;this.description.hidden=e<=0}};xs(q,"SelectedItemListElement"),T([u],q.prototype,"selectedCount",2),T([u],q.prototype,"pluralItemsDescription",2),T([u],q.prototype,"singularItemDescription",2),T([u],q.prototype,"description",2),T([W],q.prototype,"items",2),T([u],q.prototype,"includeFragment",2),T([u],q.prototype,"saveButton",2),q=T([S],q);var Ps=Object.defineProperty,Oo=(e,t)=>Ps(e,"name",{value:t,configurable:!0});function Fo(e){return new Promise(t=>{let o=performance.now();function s(){window.requestAnimationFrame(r=>{e(r-o)!==!1?(o=r,s()):t()})}Oo(s,"tick"),s()})}Oo(Fo,"animate");var Mo=Object.defineProperty,Cs=Object.getOwnPropertyDescriptor,Ts=(e,t)=>Mo(e,"name",{value:t,configurable:!0}),g=(e,t,o,s)=>{for(var r=s>1?void 0:s?Cs(t,o):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(r=(s?c(t,o,r):c(r))||r);return s&&r&&Mo(t,o,r),r};const it=6;let f=class extends HTMLElement{constructor(){super(...arguments);this.scrolledPage=0}connectedCallback(){this.theme(this.themeLinks.find(e=>e.classList.contains("selected"))||this.themeLinks[0]),this.updateScrollLinks()}hideSpinner(){this.spinner.hidden=!0}onThemeLinkClick(e){this.theme(e.currentTarget),e.preventDefault()}toggleFullPicker(e){const t=e.currentTarget;this.fullPicker.hidden=!this.fullPicker.hidden,this.miniPicker.hidden=!this.fullPicker.hidden,this.scrollToTheme(this.theme(),!1),t.classList.toggle("open")}onEditClick(e){this.editForm&&j(this.editForm),e.preventDefault()}onPublishClick(e){var t;this.publishThemeSlugInput&&(this.publishThemeSlugInput.value=((t=this.theme())==null?void 0:t.getAttribute("data-theme-slug"))||""),this.publishForm&&j(this.publishForm),e.preventDefault()}prevPage(){this.scrollToTheme(this.themeLinks[0]),this.updateScrollLinks()}nextPage(){this.scrollToTheme(this.themeLinks[it]),this.updateScrollLinks()}updateScrollLinks(){const e=this.scrolledPage===0;this.scrollBackwardsLink.disabled=e,this.scrollBackwardsLink.classList.toggle("disabled",e),this.scrollForwardsLink.disabled=!e,this.scrollForwardsLink.classList.toggle("disabled",!e)}selectedThemeIndex(){return this.themeLinks.indexOf(this.selectedTheme)}prevTheme(e){let t=(this.selectedThemeIndex()-1)%this.themeLinks.length;t<0&&(t+=this.themeLinks.length),this.theme(this.themeLinks[t]),e.preventDefault()}nextTheme(e){this.theme(this.themeLinks[(this.selectedThemeIndex()+1)%this.themeLinks.length]),e.preventDefault()}scrollToTheme(e,t=!0){this.scrolledPage=Math.floor(this.themeLinks.indexOf(e)/it);let o=0;this.scrolledPage>0&&(o=this.themeLinks[this.scrolledPage*it].offsetLeft);const s=this.themeLinksContainer,r=o-s.scrollLeft;t&&r!==0?Fo(c=>{if(c<0)return;const l=s.scrollLeft;s.scrollLeft=Math[o-l>0?"min":"max"](l+r*(c/150),o);const a=s.scrollLeft;if(l===a)return!1}):s.scrollLeft=o}theme(e){if(e){this.selectedTheme=e,this.showPreviewFor(e);for(const t of this.themeLinks)t.classList.remove("selected");e.classList.add("selected"),this.scrollToTheme(e),this.themeName.textContent=e.getAttribute("data-theme-name")}else return this.selectedTheme}showPreviewFor(e){var t;this.spinner.hidden=!1,e.getAttribute("data-theme-gem")?this.pagePreview.setAttribute("src",e.href):(this.themeSlugInput&&(this.themeSlugInput.value=((t=this.theme())==null?void 0:t.getAttribute("data-theme-slug"))||""),this.previewForm&&j(this.previewForm))}};Ts(f,"ThemePickerElement"),g([u],f.prototype,"pagePreview",2),g([u],f.prototype,"spinner",2),g([u],f.prototype,"fullPicker",2),g([u],f.prototype,"miniPicker",2),g([u],f.prototype,"themeName",2),g([u],f.prototype,"scrollBackwardsLink",2),g([u],f.prototype,"scrollForwardsLink",2),g([u],f.prototype,"themeLinksContainer",2),g([W],f.prototype,"themeLinks",2),g([u],f.prototype,"themeSlugInput",2),g([u],f.prototype,"editForm",2),g([u],f.prototype,"publishForm",2),g([u],f.prototype,"publishThemeSlugInput",2),g([u],f.prototype,"previewForm",2),f=g([S],f),i("upload:setup",".js-upload-repository-image",function(){document.querySelector(".js-remove-repository-image-button").hidden=!0}),i("upload:complete",".js-upload-repository-image",function(e){const{attachment:t}=e.detail;document.querySelector(".js-repository-image-id").value=t.id,document.querySelector(".js-remove-repository-image-button").hidden=!1,document.querySelector(".js-repository-image-container").style.backgroundImage=`url(${t.href})`});var Es=Object.defineProperty,Rs=(e,t)=>Es(e,"name",{value:t,configurable:!0});function ve(e,t){const o=e.querySelector(".js-add-new-user");o.disabled=!t}Rs(ve,"resetUserAddForm"),b(".js-add-user-form",function(e){ve(e,!1)}),i("auto-complete-change",".js-add-user-completer",function({target:e}){const t=e,o=t.closest(".js-add-user-form");ve(o,!!t.value);const s=document.querySelector(".js-designated-user");s&&(t.value?s.textContent=`@${t.value}`:s.textContent=s.getAttribute("data-autocomplete-text"))}),m(".js-remote-submit",async function(e,t){const o=await t.html(),s=document.querySelector(".js-user-block-settings-list"),r=s.querySelector(".js-blocked-list"),n=s.querySelector(".js-user-block-blank-slate");ve(e,!1);const c=e.querySelector(".js-add-blocked-user-field");_e(c,""),n.hidden=!0,r.hidden=!1,r.prepend(o.html)}),m(".js-user-sessions-revoke",async function(e,t){await t.text();const o=e.closest(".js-user-sessions-container");if(e.closest(".js-user-session").remove(),o){const r=o.querySelectorAll(".js-user-session").length;o.classList.toggle("has-active-sessions",r>0)}});var Bo=Object.defineProperty,$s=Object.getOwnPropertyDescriptor,Is=(e,t)=>Bo(e,"name",{value:t,configurable:!0}),ee=(e,t,o,s)=>{for(var r=s>1?void 0:s?$s(t,o):t,n=e.length-1,c;n>=0;n--)(c=e[n])&&(r=(s?c(t,o,r):c(r))||r);return s&&r&&Bo(t,o,r),r};let O=class extends HTMLElement{async changeManuallySelected(){this.manualRadioButton.checked&&(this.regionSelect.disabled=!1,this.regionSelect.value!==""&&await this.regionSelected())}async changeAutoSelected(){this.autoRadioButton.checked&&(this.regionSelect.disabled=!0,await this.submitSelectedRegion(null))}async regionSelected(){const e=this.regionSelect.value;await this.submitSelectedRegion(e)}async submitSelectedRegion(e){const t=new FormData(this.locationForm);e!==null&&t.append("codespace_default_location",e);const o=await fetch(this.locationForm.action,{method:this.locationForm.method,body:t,headers:{Accept:"text/fragment+html","X-Requested-With":"XMLHttpRequest"}}),s=F(document,await o.text());this.closest(".js-default-location-setting-container").replaceWith(s)}};Is(O,"DefaultLocationSettingElement"),ee([u],O.prototype,"manualRadioButton",2),ee([u],O.prototype,"regionSelect",2),ee([u],O.prototype,"locationForm",2),ee([u],O.prototype,"autoRadioButton",2),O=ee([S],O);var Ds=Object.defineProperty,Ho=(e,t)=>Ds(e,"name",{value:t,configurable:!0});m(".js-verify-ssh-key",async function(e,t){await t.html();const o=e.closest("li");o.querySelector(".js-unverified-user-key-notice").remove(),o.querySelector(".js-user-key-icon").classList.remove("color-fg-danger"),e.remove()}),m(".js-leave-collaborated-repo",async function(e,t){await t.html();const o=e.getAttribute("data-repo-id"),s=e.getAttribute("data-owner-login");document.querySelector(`.js-collab-repo[data-repo-id='${o}']`).remove(),document.querySelector(".js-collab-repo")||(document.querySelector(".js-collaborated-repos-empty").hidden=!1,document.querySelector(".js-collaborated-repos").hidden=!0);const r=document.querySelector(`.js-collab-repo-owner[data-owner-login='${s}']`);r&&(r.querySelector(".js-collab-repo")||r.remove())}),i("submit",".js-codespaces-user-settings-form",async e=>{const t=e.currentTarget;e.preventDefault();const o=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"text/fragment+html"}});if(o.status>=400){const s="An unknown error occurred.",r=document.querySelector("template.js-flash-template");r.after(new qe(r,{className:"flash-error",message:s}))}else{const s=t.closest("[data-replace-remote-form-target]"),r=F(document,await o.text());s.replaceWith(r)}}),i("click",".js-codespaces-user-secrets-form input[name=repo]",async e=>{const t=e.currentTarget,o=t.closest("form");if(!o.querySelector(`[name="codespaces_user_secret[repository_ids][]"][value="${t.value}"]`)){const s=t.closest(".select-menu-item-text").querySelector("[data-menu-button-contents]").textContent;if(s&&t.value){const r=Uo(s,t.value);o.querySelector('[data-target="selected-repositories.repositories"]').append(r)}at(e)}t.closest("details").removeAttribute("open"),e.preventDefault()}),i("change",'.js-codespaces-user-secrets-form input[name="codespaces_user_secret[repository_ids][]"]',at);function Uo(e,t){const o=document.createElement("li");o.className="css-truncate d-flex flex-items-center width-full";const s=document.createElement("input");s.className="repository-item-checkbox js-repository-item-checkbox mx-2 position-absolute",s.type="checkbox",s.name="codespaces_user_secret[repository_ids][]",s.value=t,s.id=`user-secret-repo-${t}`,s.checked=!0,o.append(s);const r=document.createElement("label");return r.className="repository-item-name d-flex flex-items-center width-full color-fg-default py-1 pr-1 pl-5",r.setAttribute("for",`user-secret-repo-${t}`),r.title=e,r.textContent=e,o.append(r),o}Ho(Uo,"createRepositoryRow");function at(e){const o=e.currentTarget.closest("form"),s=o.querySelectorAll('[name="codespaces_user_secret[repository_ids][]"]:checked').length;o.querySelector('[data-target="selected-repositories.plural"]').hidden=s===1,o.querySelector('[data-target="selected-repositories.singular"]').hidden=s!==1,o.querySelector('[data-target="selected-repositories.count"]').textContent=String(s),o.querySelector('[data-target="selected-repositories.active-warning"]').hidden=s!==0}Ho(at,"updateSelectedRepositoryCount"),i("focusout",'.js-codespaces-user-secrets-form input[name="codespaces_user_secret[name]"]',e=>{const t=e.currentTarget,o=t.value,s=new RegExp("^(?!github).+","i"),r=t.closest("div.form-group");s.test(o)?(t.setCustomValidity(""),r.classList.remove("errored")):(t.setCustomValidity('Secret names cannot start with "GITHUB"'),r.classList.add("errored")),t.closest("form").dispatchEvent(new Event("change"))}),i("focusout",'.js-codespaces-user-secrets-form textarea[name="secret_value"]',e=>{const t=e.currentTarget,o=t.value,s=t.closest("div.form-group");o.trim()===""?s.classList.add("errored"):s.classList.remove("errored")}),i("change",".js-default-token-expiration-select",function(e){const t=e.target,o=document.getElementById("custom-expires-wrapper"),s=document.querySelector("#custom-expires-wrapper .form-select"),r=document.getElementById("token-expiration"),n=document.getElementById("expiration-helper-note"),c=document.getElementById("no-expiration-warning"),l=n.querySelector(".note");if(t&&s)if(t.value==="custom")n.setAttribute("hidden","hidden"),c.setAttribute("hidden","hidden"),o.removeAttribute("hidden");else{o.setAttribute("hidden","hidden"),s.value="",n.removeAttribute("hidden"),r.classList.remove("errored"),t.value==="none"?c.removeAttribute("hidden"):c.setAttribute("hidden","hidden");const a=t.selectedIndex,h=t.children[a].getAttribute("data-human-date");h&&(l.textContent=h)}});var Os=Object.defineProperty,No=(e,t)=>Os(e,"name",{value:t,configurable:!0});i("click","#load-readme",function(e){const t=document.querySelector("#gollum-editor-body"),o=document.querySelector("#editor-body-buffer"),s=document.querySelector("#undo-load-readme"),r=o.textContent,n=e.currentTarget.getAttribute("data-readme-name");if(lt(t,o),!(e.currentTarget instanceof HTMLButtonElement))return;e.currentTarget.disabled=!0,e.currentTarget.textContent=`${n} loaded`,s.classList.remove("d-none");function c(){t.value!==r&&(s.classList.add("d-none"),t.removeEventListener("input",c))}No(c,"hideUndoLinkIfChanged"),t.addEventListener("input",c)}),i("click","#undo-load-readme",function(e){const t=document.querySelector("#gollum-editor-body"),o=document.querySelector("#editor-body-buffer");lt(t,o);const s=document.querySelector("#load-readme"),r=s.getAttribute("data-readme-name");s.disabled=!1,s.textContent=`Load ${r}`,e.currentTarget.classList.add("d-none")});function lt(e,t){const o=e.value;e.value=t.textContent||"",t.textContent=o}No(lt,"swapEditorAndBufferValues")}}});
//# sourceMappingURL=settings-4d998e10.js.map
